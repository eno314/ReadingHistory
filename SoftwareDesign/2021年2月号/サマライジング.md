# Software Design 2021年2月号 サマライジング

## 装丁よみ

- Web API
  - 設計・開発入門
  - 公開・運用を見据えたベターなやり方
  - REST
  - 「使いやすさ」と「作りやすさ」の両立
- システム監視
  - 始め方
  - 続け方
  - 何からやるか
  - どこからやるか
  - ターゲットを絞る
  - 確実に効果を得る
- エンジニアリング組織論
  - 学習するチーム
  - 共同作業で悩まない
- 脆弱性の塞ぎ方

## 第1特集 Web API 設計・開発入門

- この特集の対象 : 外部に公開して、世界中のユーザーを対象とするWeb API

### 第1章 [概要編] Web APIの全体像を知る

- Web API を公開する理由・目的
  - Webサービスの普及 (サービス開発者以外のリソースを使ってサービスを成長させられる可能性)
  - エコシステムの形成 (他サービス連携が容易になり、ユーザーのニーズをノーコード・サーバーレスで実現できる可能性)

### 第2章 [設計編] 使いやすさ/作りやすさを考える

- 原則
  - クライアントとサーバーで関心を分離させる
  - ステートレスな性質で作る
  - インターフェースは統一させる
  - バックエンドの実装を意識させない (利用者にはインターフェースのみに意識させる)
- CORS
  - オリジンは、「プロトコル」「ポート番号」「ホスト」の組み合わせで区別されるもの
  - 「プロトコル」「ポート番号」「ホスト」のいずれかが異なれば、別のオリジンと判定される

### 第3章 [開発編] 実装時の視点と適切な技術選択

- WebAPIに限らず、どのよう目的で提供するのか、どのように利用されるのかをちゃんと把握することが、適切な技術選択に繋がる
- 呼び出しインターフェースの検討
  - GraphQL
    - さまざまな種類のデータの関係性に関する情報を、WebAPI経由で提供したい際に利用する
    - データの関係を定義して、それらを柔軟に操作することを目指す
    - ユースケース例 : FEを頻繁に仕様変更するために、操作するデータ構造を柔軟に変更したい場合など
  - gRPC
    - 異なる言語のサービスと高速かつ高信頼にやりとりする際に利用する
    - HTTP/2ベース
- 認証の検討
  - Cookie認証、トークン認証、JWT認証のメリデメを把握して、サービスの特性に合わせて、認証方法を決める
  - OAuth認証を使って、ユーザーが利用を許可すれば、アプリがデータにアクセスできるようになる認可の仕組みも合わせて検討する
- 一度設計して実装したら終わりではなく、サービスの成長に合わせて適切な設計や実装に変えていく

### 第4章 [公開・運用編] 継続的にWebAPIを育てていくには?

- WebAPIはユーザーの自動化プロセスに組み込まれるのが主な用途
  - WebAPIをいかに互換性を維持し続けながら、修正や機能追加することが大事
  - どうしても互換性を維持できないときに備えて、RESTならURIパスにバージョンを入れる等をすると良い
  - ドキュメントの自動生成や、ドキュメント上からAPIを実行できるようにすると運用が楽になる

## 第2特集 システム監視の始め方・続け方

### 第1章 システム監視の魅力・価値・意義

- 魅力
  - モニタリングを通じて得たデータとそこから得られる知見は、システム関係者全員の財産になる
  - 技術的にもやりがいがあるものが多い
    - システムの状態を観測する、大量データを遅延なく収集する、集めたデータを活用してシステムの状態の可視化や異常検知する、などなど
- 価値
  - システムを継続的に改善していくための、最も基礎的で、真っ先に手を付けるべき手法
  - システムやサービスの状態を客観的に知ることができる
- 意義
  - システムは何もしないと壊れたり、よくわからない状態になるので、継続した対応を行うために監視は必要
  -「システムをとりまく状況の変化」と「利用者に与えているであろう価値」を評価するための基盤
- 監視システムの基本動作 : 「観測」「データ収集」「データ利用」
- モニタリング関連のつらみ
  - インシデント対応におけるプレッシャーであったり、常に何かあったときに備えていないといけなかったり、対応できない内容のインシデントがおきたらどうしようという不安がつきまとう
  - 向き不向きがある仕事。一人で抱え込まないことが大事。

### 第2章 監視システム導入の悩みどころと解決策

- システム監視の主な目的 : 「状況把握」「稼働状況の改善」「改善のため指標づくり」
- 何をどう監視するまえに、システムの関係者で認識合わせする
  1. 目的のすり合わせ (なぜシステム監視をするのか、きっかけはなにか、監視することの期待値は何か、など)
  2. 運用上の課題間や不安感の洗い出し
  3. 監視対象のシステム利用者の視点を持てるようにする (ペルソナを確認するなど)
  4. システム以外に必要なものを揃える (ドキュメント、チケット、コミュニケーションツールや、関係者の協力体制など)
- 何をどう監視するか
  - 1から始めるなら、まずはSaaSなどを使い、用意されている監視項目をそのまま使うのが良い。
  - アラートの通知は即時対応が必要な状況でだけ、必要な人にだけ送る (通知疲れさせないようにするため)
- インシデントの対処方法
  - インシデントが起きたら、まずは一次対応・二次対応でサービスの復旧を優先する
  - 復旧後に、原因調査や再発防止の恒久対応や振り返り等を行う

### 第3章 Datadogで実践するSaaS監視

- かなりの大規模運用か、OSSでないと満たせない要件がない限り、まずはSaaSを使って監視を始めるのが良い

## その他

### ITエンジニア必須の最新用語解説

- Buildpacks

### 使い捨てパスワード

### 筋トレ

### ソフトウェアプロジェクトにおける心理的安全性

### チャボットとLINEを接続してみよう

### 初めての新規サービス開発 (価値創出編)

### データ分析の屋台骨!データレイクってなんですか？

### IPのしくみを知ろう
